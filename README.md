
# Solar Energy Forecasting Pipeline

This repository contains a prototype data pipeline for forecasting solar energy production in the United States. It processes raw solar generation data, cleans it, performs exploratory analysis, and uses a Linear Regression model to predict future energy output. A summary of the analysis and forecast is also generated.

## Project Structure

```
solar-energy-forecast/
│
├── ai_module.py
├── summary_module.py
├── main_pipeline.py
├── cleaned_solar_data.csv     ← Generated during preprocessing
├── forecast_next_year.csv     ← Generated by the forecasting model
├── weekly_summary.txt         ← Generated summary of analysis and forecast
├── README.md                  ← This file
├── Net Generation of Solar Energy U.csv  ← Original input data
└── solar_generation_trend.png ← Visualization of historical data
```

## Deliverables

This project addresses the following deliverables for Week 2 and Week 3 of the Rayfield Systems Technical Track:

### Week 2: Data Pipeline Design
- **Functioning data pipeline prototype:** `main_pipeline.py` orchestrates the data loading, cleaning, processing, and output generation.
- **Clear system flow diagram (CSV → Processing → Output):** Conceptualized in the pipeline structure and documented here.
    - **Input:** `Net Generation of Solar Energy U.csv` (raw data)
    - **Processing:** `preprocess_data` (cleaning, unit conversion, date formatting, handling negative values), `train_and_predict` (feature engineering, model training, forecasting)
    - **Output:** `cleaned_solar_data.csv`, `forecast_next_year.csv`, `weekly_summary.txt`, `solar_generation_trend.png`
- **Documentation of dataset choices, cleaning logic, and feature engineering:** Provided in this `README.md` and inline code comments.
    - **Dataset Selection:** Solar generation data for the United States, chosen for its relevance to clean energy and availability.
    - **Time Span and Granularity:** Monthly data from 2001-01-01 to 2025-04-01.
    - **Energy Workflow Support:** Supports forecasting future solar energy output, which can be crucial for grid management and resource planning.
    - **Cleaning Logic:**
        - Renamed 'All utility-scale solar : United States thousand megawatthours' to 'Generation_MWh'.
        - Converted 'Month' column to datetime objects.
        - Converted 'thousand megawatthours' to 'megawatthours' (multiplied by 1000).
        - Replaced any negative generation values with 0.
        - Sorted data by 'Month'.
    - **Feature Engineering:**
        - `Month_Num`: A numerical representation of months from the start of the dataset, used as the independent variable for the time series model.
- **Draft ideas for automation and AI/ML integration:**
    - **Automation:** The `main_pipeline.py` script can be scheduled to run periodically (e.g., monthly) to automatically update forecasts and summaries when new data becomes available.
    - **AI/ML Integration:**
        - **Forecasting:** Linear Regression is implemented for predicting future generation. This can be enhanced with more sophisticated time series models (e.g., ARIMA, Prophet, recurrent neural networks) for improved accuracy and handling of seasonality.
        - **Anomaly Detection:** Anomaly detection models (e.g., Isolation Forest, Z-score) could be integrated to flag unusual dips or spikes in solar generation, potentially indicating equipment issues or unusual weather patterns.
        - **Reporting/Summarization:** The mock summary generation can be replaced with a large language model (LLM) like GPT to generate more comprehensive and insightful reports based on the analyzed data and forecasts.

### Week 3: AI/ML Core Development
- **Working AI/ML scripts or notebooks:** `ai_module.py` contains the core AI/ML logic for training and prediction. `main_pipeline.py` orchestrates its use.
- **At least one useful visualization:** `solar_generation_trend.png` provides a visual representation of historical solar energy generation.
- **A natural-language summary (from GPT or mock):** `weekly_summary.txt` provides a mock natural-language summary of the data and forecast.
- **A Python module (ai_module.py) wrapping your logic into reusable functions:** `ai_module.py` and `summary_module.py` encapsulate the respective functionalities.

## How to Run

1.  Place the `Net Generation of Solar Energy U.csv` file in the same directory as the Python scripts.
2.  Run `main_pipeline.py`:
    ```bash
    python main_pipeline.py
    ```
3.  This will generate `cleaned_solar_data.csv`, `forecast_next_year.csv`, `weekly_summary.txt`, and `solar_generation_trend.png` in the same directory.

## Models and Metrics

- **Model Used:** Scikit-learn's `LinearRegression` for forecasting.
- **Inputs:** `Month_Num` (numerical representation of time).
- **Outputs:** `Predicted_Generation_MWh`.
- **Data Preprocessing:** Handled within `ai_module.py`'s `preprocess_data` function, including date conversion, unit conversion, and handling of negative values.

## Future Improvements

- Implement more advanced time series models (e.g., ARIMA, Prophet, seasonal decomposition models) for improved forecasting accuracy, especially to capture seasonality more effectively.
- Integrate anomaly detection to identify unusual generation patterns.
- Replace the mock summary with a call to a real LLM API (e.g., OpenAI GPT) for more dynamic and insightful reporting.
- Develop a simple web application (e.g., using Streamlit or Flask) to visualize the data, forecast, and summary interactively.
- Set up automated scheduling (e.g., using Cron, Airflow, or cloud-based schedulers) to run the pipeline regularly.
